(function(e){function t(t){for(var a,i,s=t[0],c=t[1],d=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,d||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},o={app:0},n=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-payment/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01fa":function(e,t,r){},"034f":function(e,t,r){"use strict";r("85ec")},"0400":function(e,t,r){"use strict";r("343f")},1001:function(e,t,r){e.exports=r.p+"img/icon-atm.fb2f0a6e.svg"},"343f":function(e,t,r){},"46a3":function(e,t,r){e.exports=r.p+"img/icon-ssl.ed5ff7d8.svg"},"4a58":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Progress",{attrs:{CurrentRoute:e.CurrentRoute}}),r("div",{staticClass:"content"},[r("div",{staticClass:"wrap"},[r("router-view",{attrs:{products:e.products,options:e.options,productInfo:e.productInfo,orderInfo:e.orderInfo},on:{getProductInfo:e.getProductInfo,getOrderInfo:e.getOrderInfo}})],1)])],1)},n=[],i=(r("5319"),r("ac1f"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav"},e._l(e.steps,(function(t){return r("div",{key:t.stepIndex,class:["nav-item",{status:t.stepIndex==e.getCurrent()}]},[r("div",{staticClass:"nav-icon"},[e._v(e._s(t.stepIndex))]),r("p",[e._v(e._s(t.step))]),r("p",[e._v(e._s(t.stepE))])])})),0)}),s=[],c={name:"Progress",props:["CurrentRoute"],data:function(){return{steps:[{step:"選擇運送方式",stepE:"SHIPPING",stepIndex:1},{step:"選擇付款方式",stepE:"PAYMENT",stepIndex:2},{step:"付款完成",stepE:"COMPLETE",stepIndex:3}]}},methods:{getCurrent:function(){return"orderinfo"==this.CurrentRoute?1:"payment"==this.CurrentRoute?2:"complete"==this.CurrentRoute?3:void 0}}},d=c,l=(r("f863"),r("2877")),u=Object(l["a"])(d,i,s,!1,null,"3dba9b98",null),p=u.exports,m={data:function(){return{products:[{name:"破損的電風扇",price:200,count:5},{name:"殘缺的電風扇",price:300,count:3},{name:"普通的電風扇",price:800,count:1},{name:"高級的電風扇",price:1600,count:1}],options:[{name:"宅配到家",price:120},{name:"自行取貨",price:0},{name:"超商取貨",price:60}],productInfo:{optionsIndex:null,total:0},orderInfo:[],routerIndex:{payment:!1,complete:!1},CurrentRoute:"orderinfo"}},components:{Progress:p},methods:{getProductInfo:function(e){this.productInfo.total=e.total,this.productInfo.optionsIndex=e.optionsIndex},getOrderInfo:function(e){this.orderInfo=e}},mounted:function(){this.routerIndex.payment&&this.routerIndex.complete&&this.routerIndex.orderinfo||this.$router.replace({path:"/orderinfo"}).catch((function(){}))},watch:{$route:function(e){this.CurrentRoute=e.name}}},f=m,v=(r("034f"),Object(l["a"])(f,o,n,!1,null,null,null)),h=v.exports,I=r("8c4f"),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"order-complete-wrap"},[r("div",{staticClass:"order-complete"},[e._m(0),e.orderInfo.pay&&e.productInfo.optionsIndex?r("div",{staticClass:"order-body"},[r("div",{staticClass:"order-info-wrap"},[r("div",{staticClass:"order-info"},[e._v("訂購人")]),r("p",[e._v(e._s(e.orderInfo.orderName))])]),r("div",{staticClass:"order-info-wrap"},[r("div",{staticClass:"order-info"},[e._v("付款方式")]),r("p",[e._v(e._s(e.orderInfo.paySelect))])]),r("div",{staticClass:"order-info-wrap"},[r("div",{staticClass:"order-info"},[e._v(e._s("ATM轉帳"==e.orderInfo.paySelect?"付款銀行":"超商付款"==e.orderInfo.paySelect?"付款超商":e.orderInfo.paySelect))]),r("p",[e._v(e._s("信用卡轉帳"==e.orderInfo.paySelect?e.orderInfo.pay.join("").toString():e.orderInfo.pay.toString()))])]),r("div",{staticClass:"order-info-wrap"},[r("div",{staticClass:"order-info"},[e._v("電子信箱")]),r("p",[e._v(e._s(e.orderInfo.email))])]),r("div",{staticClass:"order-info-wrap"},[r("div",{staticClass:"order-info"},[e._v("運送方式")]),r("p",[e._v(e._s(e.options[e.productInfo.optionsIndex].name))])]),r("div",{staticClass:"order-info-wrap"},[r("div",{staticClass:"order-info"},[e._v("實付金額")]),r("p",[e._v(e._s(e.productInfo.total))])])]):e._e()]),r("div",{staticClass:"complete-btn"},[r("button",{staticClass:"complete-button",on:{click:e.backOrderInfo}},[e._v("完成")])])])])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-head"},[a("div",{staticClass:"order-icon"},[a("img",{attrs:{src:r("94f7"),alt:"check"}})]),a("h2",[e._v("付款完成")]),a("p",[e._v("ORDER COMPLETE")]),a("small",[e._v("我們將寄送完整的訂購明細至您的 Email")])])}],y={name:"complete",props:["products","options","productInfo","orderInfo"],methods:{backOrderInfo:function(e){e.preventDefault(),this.$router.replace({path:"/orderinfo"})}}},C=y,k=(r("c9a5"),Object(l["a"])(C,_,g,!1,null,"7b1b11fc",null)),x=k.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("table",{staticClass:"order"},[e._m(0),r("tbody",[e._m(1),e._l(e.products,(function(t,a){return r("tr",{key:a,staticClass:"product-item"},[r("td",[r("div",[e._v(e._s(t.name))])]),r("td",[r("div",[e._v(e._s(t.count))])]),r("td",[r("div",[e._v(e._s(t.price))])]),r("td",[r("div",[e._v(e._s(t.price*t.count))])])])})),e._m(2),r("tr",{staticClass:"take"},[r("td",[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?r:r[0]},function(t){return e.getOptionsIndex(t)}]}},e._l(e.options,(function(t,a){return r("option",{key:a,domProps:{value:a}},[e._v(e._s(t.name))])})),0)]),r("td",[e._v(e._s(null!=this.optionsIndex||this.optionsIndex?"NT."+e.options[this.optionsIndex].price:"NT.0"))])]),r("tr",[r("td",{attrs:{colspan:"4"}},[e._v("總金額:$."+e._s(e.totalPrice))])])],2)]),r("div",{staticClass:"next"},[r("button",{staticClass:"next-button",on:{click:e.NextPage}},[e._v("下一步")])])])},N=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("td",{attrs:{colspan:"4"}},[r("p",[e._v("訂單資訊")]),r("p",[e._v("ORDER INFORMATION")])])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"product-title"},[r("td",[e._v("商品名稱")]),r("td",[e._v("單價")]),r("td",[e._v("數量")]),r("td",[e._v("金額")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"transport"},[r("td",[e._v("運送方式")]),r("td",[e._v("運費")])])}],$=(r("13d5"),{name:"orderinfo",props:["products","options","productInfo","orderInfo"],data:function(){return{selected:!1,optionsIndex:null}},methods:{NextPage:function(e){if(e.preventDefault(),this.optionsIndex){var t={total:this.getTotalPrice()+this.options[this.optionsIndex].price,optionsIndex:this.optionsIndex};this.$emit("getProductInfo",t),this.$router.replace({path:"/payment"})}else alert("請選擇運送方式")},getOptionsIndex:function(e){e.preventDefault(),this.optionsIndex=e.target.value},getTotalPrice:function(){var e=this.products.reduce((function(e,t){return e+t.price*t.count}),0);return e}},computed:{totalPrice:function(){return this.optionsIndex?"".concat(this.getTotalPrice()+this.options[this.optionsIndex].price):"".concat(this.getTotalPrice())}}}),w=$,P=(r("0400"),Object(l["a"])(w,b,N,!1,null,"31e8b6bd",null)),T=P.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("table",{staticClass:"order"},[e._m(0),r("tbody",[e._m(1),e._l(e.products,(function(t,a){return r("tr",{key:a,staticClass:"product-item"},[r("td",[r("div",[e._v(e._s(t.name))])]),r("td",[r("div",[e._v(e._s(t.price*t.count))])])])})),e.productInfo.optionsIndex?r("tr",{staticClass:"transport"},[r("td",[e._v(e._s(e.options[e.productInfo.optionsIndex].name))]),r("td",[e._v(e._s(e.options[e.productInfo.optionsIndex].price))])]):e._e(),r("tr",[e.productInfo?r("td",{attrs:{colspan:"4"}},[e._v("NT."+e._s(e.productInfo.total))]):e._e()])],2)]),r("div",{staticClass:"payment-wrap"},[r("div",{staticClass:"payment"},[r("div",{staticClass:"payment-head"},[e._m(2),r("div",{staticClass:"pay-method-wrap"},e._l(e.paymentSelect,(function(t){return r("div",{key:t.id,class:[e.paymentCurrent==t.id?"pay-method-focus":"","pay-method"],on:{click:function(r){return e.SelectHandler(t.id)}}},[r("img",{class:[e.paymentCurrent==t.id?"img-focus":""],attrs:{src:t.source,alt:"icon-ssl"}}),r("p",[e._v(e._s(t.name))])])})),0)]),r("div",{staticClass:"payment-body"},[1===e.paymentCurrent?r("div",{staticClass:"pay-credit"},[r("div",{staticClass:"input-wrap"},[r("label",[e._v("卡號")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.card[0],expression:"orderInfo.credit.card[0]",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"4"},domProps:{value:e.orderInfo.credit.card[0]},on:{keyup:function(t){e.checkCard(e.orderInfo.credit.card[0]),e.changeCard(t)},input:function(t){t.target.composing||e.$set(e.orderInfo.credit.card,0,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.card[1],expression:"orderInfo.credit.card[1]",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"4"},domProps:{value:e.orderInfo.credit.card[1]},on:{keyup:function(t){e.checkCard(e.orderInfo.credit.card[1]),e.changeCard(t)},input:function(t){t.target.composing||e.$set(e.orderInfo.credit.card,1,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.card[2],expression:"orderInfo.credit.card[2]",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"4"},domProps:{value:e.orderInfo.credit.card[2]},on:{keyup:function(t){e.checkCard(e.orderInfo.credit.card[2]),e.changeCard(t)},input:function(t){t.target.composing||e.$set(e.orderInfo.credit.card,2,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.card[3],expression:"orderInfo.credit.card[3]",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"4"},domProps:{value:e.orderInfo.credit.card[3]},on:{keyup:function(t){e.checkCard(e.orderInfo.credit.card[3]),e.changeCard(t)},input:function(t){t.target.composing||e.$set(e.orderInfo.credit.card,3,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.credit.card?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥卡號 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"card-name"}},[e._v("持卡人")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.cardName,expression:"orderInfo.credit.cardName",modifiers:{trim:!0}}],attrs:{type:"text",id:"card-name"},domProps:{value:e.orderInfo.credit.cardName},on:{keyup:function(t){return e.checkName(e.orderInfo.credit.cardName)},input:function(t){t.target.composing||e.$set(e.orderInfo.credit,"cardName",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.credit.cardName?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥持卡人 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"card-time"}},[e._v("卡片效期 (MM/YY)")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.cardTime[0],expression:"orderInfo.credit.cardTime[0]",modifiers:{trim:!0}}],attrs:{type:"text",id:"card-time",maxlength:"2"},domProps:{value:e.orderInfo.credit.cardTime[0]},on:{keyup:function(t){return e.checkCardTime(e.orderInfo.credit.cardTime[0])},input:function(t){t.target.composing||e.$set(e.orderInfo.credit.cardTime,0,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("small",[e._v("/")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.cardTime[1],expression:"orderInfo.credit.cardTime[1]",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"2"},domProps:{value:e.orderInfo.credit.cardTime[1]},on:{keyup:function(t){return e.checkCardTime(e.orderInfo.credit.cardTime[1])},input:function(t){t.target.composing||e.$set(e.orderInfo.credit.cardTime,1,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.credit.cardTime?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥卡片效期 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"secure"}},[e._v("安全碼")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.secure,expression:"orderInfo.credit.secure",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"3",id:"secure"},domProps:{value:e.orderInfo.credit.secure},on:{keyup:function(t){return e.checkSecure(e.orderInfo.credit.secure)},input:function(t){t.target.composing||e.$set(e.orderInfo.credit,"secure",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.credit.secure?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥安全碼 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"email"}},[e._v("電子信箱")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.email,expression:"orderInfo.credit.email",modifiers:{trim:!0}}],attrs:{type:"email",id:"email"},domProps:{value:e.orderInfo.credit.email},on:{keyup:function(t){return e.checkEmail(e.orderInfo.credit.email)},input:function(t){t.target.composing||e.$set(e.orderInfo.credit,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.credit.email?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥信箱 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.saveCardInfo,expression:"orderInfo.credit.saveCardInfo",modifiers:{trim:!0}}],attrs:{type:"checkbox",id:"savecardinfo"},domProps:{checked:Array.isArray(e.orderInfo.credit.saveCardInfo)?e._i(e.orderInfo.credit.saveCardInfo,null)>-1:e.orderInfo.credit.saveCardInfo},on:{change:function(t){var r=e.orderInfo.credit.saveCardInfo,a=t.target,o=!!a.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);a.checked?i<0&&e.$set(e.orderInfo.credit,"saveCardInfo",r.concat([n])):i>-1&&e.$set(e.orderInfo.credit,"saveCardInfo",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.orderInfo.credit,"saveCardInfo",o)}}}),r("label",{attrs:{for:"savecardinfo"}},[e._v("儲存卡片資訊")])]),r("div",{staticClass:"input-wrap"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.credit.agree,expression:"orderInfo.credit.agree",modifiers:{trim:!0}}],attrs:{type:"checkbox",id:"agree"},domProps:{checked:Array.isArray(e.orderInfo.credit.agree)?e._i(e.orderInfo.credit.agree,null)>-1:e.orderInfo.credit.agree},on:{change:function(t){var r=e.orderInfo.credit.agree,a=t.target,o=!!a.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);a.checked?i<0&&e.$set(e.orderInfo.credit,"agree",r.concat([n])):i>-1&&e.$set(e.orderInfo.credit,"agree",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.orderInfo.credit,"agree",o)}}}),r("label",{attrs:{for:"agree"}},[e._v("我同意接受商家名稱服務條款及隱私權政策")])]),e._m(3)]):e._e(),2===e.paymentCurrent?r("div",{staticClass:"pay-atm"},[r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"order-name"}},[e._v("訂購人")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.atm.orderName,expression:"orderInfo.atm.orderName",modifiers:{trim:!0}}],attrs:{type:"text",id:"order-name"},domProps:{value:e.orderInfo.atm.orderName},on:{keyup:function(t){return e.checkName(e.orderInfo.atm.orderName)},input:function(t){t.target.composing||e.$set(e.orderInfo.atm,"orderName",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.atm.orderName?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥訂購人 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"pay-bank"}},[e._v("付款銀行")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.orderInfo.atm.bank.selected,expression:"orderInfo.atm.bank.selected"}],attrs:{id:"pay-bank"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.orderInfo.atm.bank,"selected",t.target.multiple?r:r[0])}}},e._l(e.orderInfo.atm.bank.option,(function(t,a){return r("option",{key:a},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"email2"}},[e._v("電子信箱")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.atm.email,expression:"orderInfo.atm.email",modifiers:{trim:!0}}],attrs:{type:"text",id:"email2"},domProps:{value:e.orderInfo.atm.email},on:{keyup:function(t){return e.checkEmail(e.orderInfo.atm.email)},input:function(t){t.target.composing||e.$set(e.orderInfo.atm,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.atm.email?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥信箱 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.atm.agree,expression:"orderInfo.atm.agree",modifiers:{trim:!0}}],attrs:{type:"checkbox",id:"checkmail"},domProps:{checked:Array.isArray(e.orderInfo.atm.agree)?e._i(e.orderInfo.atm.agree,null)>-1:e.orderInfo.atm.agree},on:{change:function(t){var r=e.orderInfo.atm.agree,a=t.target,o=!!a.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);a.checked?i<0&&e.$set(e.orderInfo.atm,"agree",r.concat([n])):i>-1&&e.$set(e.orderInfo.atm,"agree",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.orderInfo.atm,"agree",o)}}}),r("label",{attrs:{for:"checkmail"}},[e._v("請再次確認「訂購人」與「付款銀行」，付款完成後將發送通知信至您的 E-mail 信箱")])])]):e._e(),3===e.paymentCurrent?r("div",{staticClass:"pay-shop"},[r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"order-name"}},[e._v("訂購人")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.shop.orderName,expression:"orderInfo.shop.orderName",modifiers:{trim:!0}}],attrs:{type:"text",id:"order-name"},domProps:{value:e.orderInfo.shop.orderName},on:{keyup:function(t){return e.checkName(e.orderInfo.shop.orderName)},input:function(t){t.target.composing||e.$set(e.orderInfo.shop,"orderName",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.shop.orderName?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥訂購人 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"select-shop"}},[e._v("選擇超商")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.orderInfo.shop.payShop.selected,expression:"orderInfo.shop.payShop.selected"}],attrs:{id:"select-shop"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.orderInfo.shop.payShop,"selected",t.target.multiple?r:r[0])}}},e._l(e.orderInfo.shop.payShop.option,(function(t,a){return r("option",{key:a},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"input-wrap"},[r("label",{attrs:{for:"email2"}},[e._v("電子信箱")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.shop.email,expression:"orderInfo.shop.email",modifiers:{trim:!0}}],attrs:{type:"text",id:"email2"},domProps:{value:e.orderInfo.shop.email},on:{keyup:function(t){return e.checkEmail(e.orderInfo.shop.email)},input:function(t){t.target.composing||e.$set(e.orderInfo.shop,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),!1===this.checks.shop.email?r("div",{staticClass:"alert"},[r("i",{staticClass:"fas fa-exclamation-triangle"}),e._v("請填妥信箱 ")]):e._e()]),r("div",{staticClass:"input-wrap"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.orderInfo.shop.agree,expression:"orderInfo.shop.agree",modifiers:{trim:!0}}],attrs:{type:"checkbox",id:"checkmail2"},domProps:{checked:Array.isArray(e.orderInfo.shop.agree)?e._i(e.orderInfo.shop.agree,null)>-1:e.orderInfo.shop.agree},on:{change:function(t){var r=e.orderInfo.shop.agree,a=t.target,o=!!a.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);a.checked?i<0&&e.$set(e.orderInfo.shop,"agree",r.concat([n])):i>-1&&e.$set(e.orderInfo.shop,"agree",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.orderInfo.shop,"agree",o)}}}),r("label",{attrs:{for:"checkmail2"}},[e._v("請再次確認「訂購人」與「付款超商」，付款完成後將發送通知信至您的 E-mail 信箱")])])]):e._e()])]),r("div",{staticClass:"container"},[r("div",{staticClass:"prev-btn"},[r("button",{staticClass:"prev-button",on:{click:e.prevPage}},[e._v("上一步")])]),r("div",{staticClass:"next-btn"},[r("button",{staticClass:"next-button",on:{click:e.nextPage}},[e._v("下一步")])])])])])},S=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("td",{attrs:{colspan:"4"}},[r("p",[e._v("訂單資訊")]),r("p",[e._v("ORDER INFORMATION")])])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"product-title"},[r("td",[e._v("商品名稱/數量")]),r("td",[e._v("小計")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",[e._v("付款資訊"),r("small",[e._v("PAYMENT")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ssl"},[a("img",{attrs:{src:r("46a3"),alt:"icon-ssl"}}),a("p",[e._v(" 使用SSL 128 Bit 安全加密機制，保障個人及信用卡資料不外洩 ")])])}],E={name:"payment",props:["products","options","productInfo"],data:function(){return{paymentCurrent:1,paymentSelect:[{name:"信用卡轉帳",source:r("d076"),id:1},{name:"ATM轉帳",source:r("1001"),id:2},{name:"超商付款",source:r("b8be"),id:3}],orderInfo:{credit:{card:["0000","1111","2222","3333"],cardName:"test",cardTime:["01","23"],secure:"123",email:"test@gmail.com",saveCardInfo:!1,agree:!0},atm:{orderName:"test",bank:{option:["玉山銀行","台北富邦","國泰世華","花旗銀行","中國信託"],selected:"玉山銀行"},email:"test@gmail.com",agree:!1},shop:{orderName:"test",payShop:{option:["7-11","全家"],selected:"7-11"},email:"test@gmail.com",agree:!1}},checks:{credit:{card:!0,cardName:!0,cardTime:!0,secure:!0,email:!0},atm:{orderName:!0,email:!0},shop:{orderName:!0,email:!0}}}},methods:{prevPage:function(){this.$router.replace({path:"/orderinfo"})},nextPage:function(){var e=this.checks.credit,t=this.checks.atm,r=this.checks.shop;if(1===this.paymentCurrent){if(!e.card||!e.cardName||!e.cardTime||!e.secure||!e.email)return;if(!this.orderInfo.credit.agree)return alert("請同意接受商家名稱服務條款及隱私權政策");var a={orderName:this.orderInfo.credit.cardName,paySelect:"信用卡轉帳",pay:this.orderInfo.credit.card,email:this.orderInfo.credit.email};this.$emit("getOrderInfo",a)}else if(2===this.paymentCurrent){if(!t.orderName||!t.email)return;if(!this.orderInfo.atm.agree)return alert("請再次確認「訂購人」與「付款銀行」，付款完成後將發送通知信至您的 E-mail 信箱");var o={orderName:this.orderInfo.atm.orderName,paySelect:"ATM轉帳",pay:this.orderInfo.atm.bank.selected,email:this.orderInfo.atm.email};this.$emit("getOrderInfo",o)}else if(3===this.paymentCurrent){if(!r.orderName||!r.email)return;if(!this.orderInfo.shop.agree)return alert("請再次確認「訂購人」與「付款超商」，付款完成後將發送通知信至您的 E-mail 信箱");var n={orderName:this.orderInfo.shop.orderName,paySelect:"超商付款",pay:this.orderInfo.shop.payShop.selected,email:this.orderInfo.shop.email};this.$emit("getOrderInfo",n)}this.$router.replace({path:"/complete"})},SelectHandler:function(e){this.paymentCurrent=e},checkCard:function(e){var t=/^[A-Za-z0-9]+$/;return t.test(e)&&4===e.length?this.checks.credit.card=!0:this.checks.credit.card=!1},checkName:function(e){var t=/^[\u4e00-\u9fa5a-zA-Z\S]/;if(t.test(e)){if(1===this.paymentCurrent)return this.checks.credit.cardName=!0;if(2===this.paymentCurrent)return this.checks.atm.orderName=!0;if(3===this.paymentCurrent)return this.checks.shop.orderName=!0}else{if(1===this.paymentCurrent)return this.checks.credit.cardName=!1;if(2===this.paymentCurrent)return this.checks.atm.orderName=!1;if(3===this.paymentCurrent)return this.checks.shop.orderName=!1}},checkCardTime:function(e){var t=/^[\d^\d\s]{2,}\S*$/;return t.test(e)?this.checks.credit.cardTime=!0:this.checks.credit.cardTime=!1},checkSecure:function(e){var t=/^[\d^\d]{3,}\S*$/;return t.test(e)?this.checks.credit.secure=!0:this.checks.credit.secure=!1},checkEmail:function(e){var t=/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4})\S*$/;if(t.test(e)){if(1===this.paymentCurrent)return this.checks.credit.email=!0;if(2===this.paymentCurrent)return this.checks.atm.email=!0;if(3===this.paymentCurrent)return this.checks.shop.email=!0}else{if(1===this.paymentCurrent)return this.checks.credit.email=!1;if(2===this.paymentCurrent)return this.checks.atm.email=!1;if(3===this.paymentCurrent)return this.checks.shop.email=!1}},changeCard:function(e){4!=this.orderInfo.credit.card[3].length&&e.target.value.length>=4&&e.target.nextSibling.focus()}}},A=E,j=(r("d124"),Object(l["a"])(A,O,S,!1,null,"1d971700",null)),R=j.exports;a["a"].use(I["a"]);var M=[{path:"/orderinfo",name:"orderinfo",props:!0,component:T},{path:"/payment",name:"payment",props:!0,component:R},{path:"/complete",name:"complete",props:!0,component:x},{path:"*",redirect:"/orderinfo"}],U=new I["a"]({routes:M}),D=U,z=r("2f62");a["a"].use(z["a"]);var Z=new z["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Y=r("31bd");Object(Y["sync"])(Z,D),a["a"].config.productionTip=!1,new a["a"]({router:D,store:Z,render:function(e){return e(h)}}).$mount("#app")},7191:function(e,t,r){},"85ec":function(e,t,r){},"94f7":function(e,t,r){e.exports=r.p+"img/checked.34a7734c.svg"},b8be:function(e,t,r){e.exports=r.p+"img/icon-shop.a010fdab.svg"},c9a5:function(e,t,r){"use strict";r("4a58")},d076:function(e,t,r){e.exports=r.p+"img/icon-credit-card.9972045f.svg"},d124:function(e,t,r){"use strict";r("01fa")},f863:function(e,t,r){"use strict";r("7191")}});
//# sourceMappingURL=app.56515144.js.map